// Copyright © 2025 Daydream2740. All Rights Reserved.
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPG Job Simulator</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f0f0f0;
            color: #333;
        }
        .container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .game-title {
            text-align: center;
            color: #5c6bc0;
            margin-bottom: 20px;
        }
        .setup-screen, .job-selection, .main-game, .shop-screen, .house-shop-screen {
            display: none;
        }
        .intro-screen {
            text-align: center;
        }
        button {
            background-color: #5c6bc0;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 15px;
            margin: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #3f51b5;
        }
        button:disabled {
            background-color: #9e9e9e;
            cursor: not-allowed;
        }
        .stat-item {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
        }
        .stat-value {
            font-weight: bold;
        }
        .job-card {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            transition: border-color 0.3s;
            cursor: pointer;
        }
        .job-card:hover {
            border-color: #5c6bc0;
            background-color: #f5f5f5;
        }
        .job-card.selected {
            border-color: #5c6bc0;
            background-color: #e8eaf6;
        }
        .job-title {
            font-weight: bold;
            color: #3f51b5;
            margin-bottom: 10px;
        }
        .game-section {
            margin-bottom: 20px;
        }
        .flex-row {
            display: flex;
            justify-content: space-between;
        }
        .stat-points {
            color: #ff9800;
            font-weight: bold;
        }
        .job-points {
            color: #4caf50;
            font-weight: bold;
        }
        .progress-bar {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 10px 0;
        }
        .progress-fill {
            height: 20px;
            background-color: #5c6bc0;
            border-radius: 5px;
            text-align: center;
            color: white;
            line-height: 20px;
            transition: width 0.5s;
        }
        .happiness-bar {
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 10px 0;
            height: 20px;
        }
        .happiness-fill {
            height: 20px;
            background-color: #ff9800;
            border-radius: 5px;
            text-align: center;
            color: white;
            line-height: 20px;
            transition: width 0.5s;
        }
        .stats-popup, .item-details-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            z-index: 100;
            max-width: 400px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 50;
        }
        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #757575;
        }
        .log-container {
            max-height: 150px;
            overflow-y: auto;
            border: 1px solid #ddd;
            padding: 10px;
            margin-top: 10px;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        .log-entry {
            margin: 5px 0;
            padding: 3px 0;
            border-bottom: 1px solid #eee;
        }
        .tabs {
            display: flex;
            margin-bottom: 15px;
            border-bottom: 1px solid #ddd;
        }
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            background-color: #f0f0f0;
            border: 1px solid #ddd;
            border-bottom: none;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
        }
        .tab.active {
            background-color: white;
            border-bottom: 1px solid white;
            position: relative;
            bottom: -1px;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .items-grid, .houses-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .item-card, .house-card {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.2s;
            cursor: pointer;
        }
        .item-card:hover, .house-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        .item-name, .house-name {
            font-weight: bold;
            color: #3f51b5;
            margin-bottom: 5px;
        }
        .item-price, .house-price {
            color: green;
            font-weight: bold;
        }
        .item-happiness, .house-happiness {
            color: #ff9800;
        }
        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
        }
        .inventory-item {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 8px;
            background-color: #f9f9f9;
        }
        .menu-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        .menu-buttons {
            display: flex;
        }
        .item-details-content {
            padding: 10px 0;
        }
        .owned-tag {
            background-color: #4caf50;
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 12px;
            position: absolute;
            top: 5px;
            right: 5px;
        }
        .item-action-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }
        .inventory-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .search-bar {
            margin-bottom: 10px;
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="game-title">RPG Job Simulator</h1>
        
        <!-- Intro Screen -->
        <div id="introScreen" class="intro-screen">
            <p>Welcome to RPG Job Simulator! Start your career, buy items to boost your happiness, and even purchase your dream home!</p>
            <button id="startGameBtn">Start Game</button>
        </div>
        
        <!-- Character Setup Screen -->
        <div id="setupScreen" class="setup-screen">
            <h2>Create Your Character</h2>
            <div class="form-group">
                <label for="playerName">Character Name:</label>
                <input type="text" id="playerName" placeholder="Enter your name">
            </div>
            
            <h3>Base Stats <span class="stat-points">Points Available: <span id="statPointsAvailable">4</span></span></h3>
            <div class="stat-item">
                <span>Strength:</span>
                <div>
                    <span id="strengthValue" class="stat-value">5</span>
                    <button id="addStrength" class="stat-btn">+</button>
                </div>
            </div>
            <div class="stat-item">
                <span>Speed:</span>
                <div>
                    <span id="speedValue" class="stat-value">5</span>
                    <button id="addSpeed" class="stat-btn">+</button>
                </div>
            </div>
            <div class="stat-item">
                <span>Dexterity:</span>
                <div>
                    <span id="dexterityValue" class="stat-value">5</span>
                    <button id="addDexterity" class="stat-btn">+</button>
                </div>
            </div>
            <div class="stat-item">
                <span>Defense:</span>
                <div>
                    <span id="defenseValue" class="stat-value">5</span>
                    <button id="addDefense" class="stat-btn">+</button>
                </div>
            </div>
            
            <button id="confirmCharacterBtn" disabled>Confirm Character</button>
        </div>
        
        <!-- Job Selection Screen -->
        <div id="jobSelectionScreen" class="job-selection">
            <h2>Choose Your Job</h2>
            <p>Select one of the following jobs to start your career:</p>
            
            <div id="job1" class="job-card" data-job="office">
                <div class="job-title">Office Worker</div>
                <p>A stable job with good intelligence growth and decent pay.</p>
                <div class="stat-item">
                    <span>Base Wage:</span>
                    <span class="stat-value">$50 per work</span>
                </div>
                <div class="stat-item">
                    <span>Stat Boosts:</span>
                    <span class="stat-value">+2 Intelligence, +1 Organization</span>
                </div>
            </div>
            
            <div id="job2" class="job-card" data-job="construction">
                <div class="job-title">Construction Worker</div>
                <p>Physical labor with high strength growth and good pay.</p>
                <div class="stat-item">
                    <span>Base Wage:</span>
                    <span class="stat-value">$65 per work</span>
                </div>
                <div class="stat-item">
                    <span>Stat Boosts:</span>
                    <span class="stat-value">+2 Strength, +1 Manual Labor</span>
                </div>
            </div>
            
            <div id="job3" class="job-card" data-job="delivery">
                <div class="job-title">Delivery Driver</div>
                <p>Fast-paced work with speed and time management growth.</p>
                <div class="stat-item">
                    <span>Base Wage:</span>
                    <span class="stat-value">$45 per work</span>
                </div>
                <div class="stat-item">
                    <span>Stat Boosts:</span>
                    <span class="stat-value">+2 Speed, +1 Time Management</span>
                </div>
            </div>
            
            <button id="confirmJobBtn" disabled>Confirm Job</button>
        </div>
        
        <!-- Main Game Screen -->
        <div id="mainGameScreen" class="main-game">
            <div class="menu-bar">
                <div class="player-info">
                    <h2 id="playerNameDisplay"></h2>
                    <p>Job: <span id="playerJobDisplay"></span> | Home: <span id="playerHomeDisplay">Homeless</span></p>
                </div>
                <div class="menu-buttons">
                    <button id="viewStatsBtn">Stats</button>
                    <button id="shopBtn">Shop</button>
                    <button id="inventoryBtn">Inventory</button>
                </div>
            </div>
            
            <div class="game-section">
                <div class="flex-row">
                    <h3>Level: <span id="playerLevel">1</span></h3>
                    <p>Money: $<span id="playerMoney">0</span></p>
                </div>
                <div class="progress-bar">
                    <div id="xpProgressBar" class="progress-fill" style="width: 0%">0/1000 XP</div>
                </div>
                <h4>Happiness: <span id="happinessValue">100</span>%</h4>
                <div class="happiness-bar">
                    <div id="happinessBar" class="happiness-fill" style="width: 100%"></div>
                </div>
            </div>
            
            <div class="game-section">
                <button id="workBtn">Work</button>
                <span id="workCooldown"></span>
            </div>
            
            <div class="game-section">
                <h3>Job Skills <span class="job-points">Job Points: <span id="jobPointsAvailable">0</span></span></h3>
                <div class="stat-item">
                    <span>Manual Labor:</span>
                    <div>
                        <span id="manualLaborValue" class="stat-value">1</span>
                        <button id="addManualLabor" class="job-stat-btn">+</button>
                    </div>
                </div>
                <div class="stat-item">
                    <span>Intelligence:</span>
                    <div>
                        <span id="intelligenceValue" class="stat-value">1</span>
                        <button id="addIntelligence" class="job-stat-btn">+</button>
                    </div>
                </div>
                <div class="stat-item">
                    <span>Time Management:</span>
                    <div>
                        <span id="timeManagementValue" class="stat-value">1</span>
                        <button id="addTimeManagement" class="job-stat-btn">+</button>
                    </div>
                </div>
                <div class="stat-item">
                    <span>Organization:</span>
                    <div>
                        <span id="organizationValue" class="stat-value">1</span>
                        <button id="addOrganization" class="job-stat-btn">+</button>
                    </div>
                </div>
            </div>
            
            <div class="game-section">
                <h3>Activity Log</h3>
                <div id="logContainer" class="log-container"></div>
            </div>
        </div>
        
        <!-- Shop Screen -->
        <div id="shopScreen" class="shop-screen">
            <div class="menu-bar">
                <h2>Shop</h2>
                <div>
                    <p>Money: $<span id="shopMoneyDisplay">0</span></p>
                    <button id="backToGameBtn">Back to Game</button>
                </div>
            </div>
            
            <div class="tabs">
                <div class="tab active" data-tab="items">Items</div>
                <div class="tab" data-tab="houses">Houses</div>
            </div>
            
            <div id="itemsTab" class="tab-content active">
                <p>Buy items to boost your happiness and improve your quality of life.</p>
                <input type="text" id="itemSearchBar" class="search-bar" placeholder="Search items...">
                <div id="itemsGrid" class="items-grid">
                    <!-- Items will be generated here -->
                </div>
            </div>
            
            <div id="housesTab" class="tab-content">
                <p>Purchase a home to significantly increase your baseline happiness.</p>
                <input type="text" id="houseSearchBar" class="search-bar" placeholder="Search houses...">
                <div id="housesGrid" class="houses-grid">
                    <!-- Houses will be generated here -->
                </div>
            </div>
        </div>
        
        <!-- Inventory Screen -->
        <div id="inventoryScreen" class="shop-screen">
            <div class="menu-bar">
                <h2>Inventory</h2>
                <div>
                    <button id="backFromInventoryBtn">Back to Game</button>
                </div>
            </div>
            
            <div class="inventory-label">
                <h3>Your Items</h3>
                <p>Happiness: <span id="inventoryHappinessValue">100</span>%</p>
            </div>
            
            <div id="inventoryGrid" class="inventory-grid">
                <!-- Inventory items will be generated here -->
            </div>
        </div>
        
        <!-- Stats Popup -->
        <div id="statsPopup" class="stats-popup">
            <button id="closeStatsBtn" class="close-btn">×</button>
            <h2>Character Stats</h2>
            
            <h3>Base Stats</h3>
            <div class="stat-item">
                <span>Strength:</span>
                <span id="popupStrength" class="stat-value">5</span>
            </div>
            <div class="stat-item">
                <span>Speed:</span>
                <span id="popupSpeed" class="stat-value">5</span>
            </div>
            <div class="stat-item">
                <span>Dexterity:</span>
                <span id="popupDexterity" class="stat-value">5</span>
            </div>
            <div class="stat-item">
                <span>Defense:</span>
                <span id="popupDefense" class="stat-value">5</span>
            </div>
            
            <h3>Job Skills</h3>
            <div class="stat-item">
                <span>Manual Labor:</span>
                <span id="popupManualLabor" class="stat-value">1</span>
            </div>
            <div class="stat-item">
                <span>Intelligence:</span>
                <span id="popupIntelligence" class="stat-value">1</span>
            </div>
            <div class="stat-item">
                <span>Time Management:</span>
                <span id="popupTimeManagement" class="stat-value">1</span>
            </div>
            <div class="stat-item">
                <span>Organization:</span>
                <span id="popupOrganization" class="stat-value">1</span>
            </div>
            
            <h3>Other Stats</h3>
            <div class="stat-item">
                <span>Level:</span>
                <span id="popupLevel" class="stat-value">1</span>
            </div>
            <div class="stat-item">
                <span>XP:</span>
                <span id="popupXP" class="stat-value">0/1000</span>
            </div>
            <div class="stat-item">
                <span>Happiness:</span>
                <span id="popupHappiness" class="stat-value">100%</span>
            </div>
            <div class="stat-item">
                <span>Home:</span>
                <span id="popupHome" class="stat-value">Homeless</span>
            </div>
            <div class="stat-item">
                <span>Jobs Completed:</span>
                <span id="popupJobsCompleted" class="stat-value">0</span>
            </div>
            <div class="stat-item">
                <span>Money Earned:</span>
                <span id="popupMoneyEarned" class="stat-value">$0</span>
            </div>
            <div class="stat-item">
                <span>Money Spent:</span>
                <span id="popupMoneySpent" class="stat-value">$0</span>
            </div>
        </div>
        
        <!-- Item Details Popup -->
        <div id="itemDetailsPopup" class="item-details-popup">
            <button id="closeItemDetailsBtn" class="close-btn">×</button>
            <h2 id="itemDetailsTitle">Item Name</h2>
            <div id="itemDetailsContent" class="item-details-content">
                <!-- Item details will be populated here -->
            </div>
            <div id="itemActionButtons" class="item-action-buttons">
                <button id="buyItemBtn">Buy for $<span id="itemBuyPrice">0</span></button>
                <button id="useItemBtn">Use Item</button>
            </div>
        </div>
        
        <div id="overlay" class="overlay"></div>
    </div>

    <script>
        // Game state
        const gameState = {
            player: {
                name: "",
                job: "",
                level: 1,
                xp: 0,
                money: 0,
                moneyEarned: 0,
                moneySpent: 0,
                jobsCompleted: 0,
                happiness: 100,
                baseStats: {
                    strength: 5,
                    speed: 5,
                    dexterity: 5,
                    defense: 5
                },
                jobStats: {
                    manualLabor: 1,
                    intelligence: 1,
                    timeManagement: 1,
                    organization: 1
                },
                statPoints: 4,
                jobPoints: 0,
                inventory: [],
                ownedHouse: null
            },
            workCooldown: 0,
            worksSinceLastJobPoint: 0,
            worksForNextJobPoint: getRandomInt(10, 50),
            selectedJob: null,
            lastHappinessDecrease: Date.now(),
            selectedItem: null,
            isItemHouse: false
        };

        // Level thresholds
        const levelThresholds = [0, 1000, 2500, 5000, 7500, 10000, 15000, 20000, 30000, 50000];
        
        // Job definitions
        const jobs = {
            office: {
                title: "Office Worker",
                baseWage: 50,
                statBoosts: {
                    intelligence: 2,
                    organization: 1
                }
            },
            construction: {
                title: "Construction Worker",
                baseWage: 65,
                statBoosts: {
                    strength: 2,
                    manualLabor: 1
                }
            },
            delivery: {
                title: "Delivery Driver",
                baseWage: 45,
                statBoosts: {
                    speed: 2,
                    timeManagement: 1
                }
            }
        };
        
        // Shop items
        const shopItems = [
            { id: 1, name: "Coffee", price: 100, happiness: 5, duration: 300, description: "A simple coffee to boost your mood for 5 minutes." },
            { id: 2, name: "Snack", price: 150, happiness: 8, duration: 400, description: "A tasty snack that improves your happiness for a while." },
            { id: 3, name: "Fast Food Meal", price: 250, happiness: 12, duration: 500, description: "Quick and satisfying food that raises happiness." },
            { id: 4, name: "Movie Ticket", price: 300, happiness: 15, duration: 600, description: "Enjoy a movie and feel better for 10 minutes." },
            { id: 5, name: "New Shirt", price: 400, happiness: 10, duration: 1200, description: "A fresh look that makes you feel good for 20 minutes." },
            { id: 6, name: "Restaurant Dinner", price: 500, happiness: 20, duration: 900, description: "A quality meal that boosts happiness significantly." },
            { id: 7, name: "Video Game", price: 600, happiness: 25, duration: 1800, description: "Hours of fun that keep your happiness up for 30 minutes." },
            { id: 8, name: "Concert Ticket", price: 800, happiness: 30, duration: 1500, description: "Experience live music and feel great for 25 minutes." },
            { id: 9, name: "Premium Headphones", price: 1000, happiness: 15, duration: 3600, description: "Enjoy your music better for a whole hour." },
            { id: 10, name: "Gym Membership", price: 1200, happiness: 20, duration: 7200, description: "Stay fit and happy for 2 hours." },
            { id: 11, name: "Smartphone", price: 1500, happiness: 25, duration: 5400, description: "Stay connected and entertained for 1.5 hours." },
            { id: 12, name: "Weekend Trip", price: 2000, happiness: 35, duration: 10800, description: "A quick getaway that refreshes you for 3 hours." },
            { id: 13, name: "Designer Clothes", price: 2500, happiness: 30, duration: 14400, description: "Look your best and feel confident for 4 hours." },
            { id: 14, name: "Gaming Console", price: 3000, happiness: 40, duration: 18000, description: "Endless entertainment for 5 hours of happiness." },
            { id: 15, name: "Home Theater System", price: 4000, happiness: 45, duration: 21600, description: "Bring the cinema experience home for 6 hours of joy." },
            { id: 16, name: "Laptop", price: 5000, happiness: 35, duration: 28800, description: "A powerful computer that keeps you happy for 8 hours." },
            { id: 17, name: "Vacation Package", price: 6000, happiness: 50, duration: 36000, description: "A refreshing break that boosts happiness for 10 hours." },
            { id: 18, name: "Smart TV", price: 7000, happiness: 40, duration: 43200, description: "Endless entertainment for 12 hours of elevated mood." },
            { id: 19, name: "Luxury Watch", price: 8000, happiness: 45, duration: 50400, description: "Feel prestigious and happy for 14 hours." },
            { id: 20, name: "High-end Bicycle", price: 10000, happiness: 55, duration: 57600, description: "Exercise in style and maintain happiness for 16 hours." }
        ];
        
        // Houses
        const houses = [
            { id: 101, name: "Small Studio Apartment", price: 10000, happiness: 10, description: "A tiny but cozy place to call home." },
            { id: 102, name: "Basic Apartment", price: 50000, happiness: 15, description: "A standard one-bedroom apartment in an average neighborhood." },
            { id: 103, name: "Comfortable Condo", price: 100000, happiness: 20, description: "A modern condominium with essential amenities." },
            { id: 104, name: "Suburban Home", price: 250000, happiness: 30, description: "A family house in a quiet suburban area." },
            { id: 105, name: "Townhouse", price: 500000, happiness: 40, description: "A spacious multi-level home in a good location." },
            { id: 106, name: "Luxury Apartment", price: 1000000, happiness: 50, description: "A high-end apartment with premium finishes and amenities." },
            { id: 107, name: "Beach House", price: 2000000, happiness: 60, description: "A relaxing home with ocean views and beach access." },
            { id: 108, name: "Large Estate", price: 5000000, happiness: 70, description: "A grand property with extensive grounds and luxury features." },
            { id: 109, name: "Penthouse Suite", price: 7500000, happiness: 80, description: "A top-floor luxury residence with panoramic city views." },
            { id: 110, name: "Private Mansion", price: 10000000, happiness: 100, description: "The ultimate luxury home with every amenity imaginable." }
        ];

        // DOM Elements
        const screens = {
            intro: document.getElementById("introScreen"),
            setup: document.getElementById("setupScreen"),
            jobSelection: document.getElementById("jobSelectionScreen"),
            mainGame: document.getElementById("mainGameScreen"),
            shop: document.getElementById("shopScreen"),
            inventory: document.getElementById("inventoryScreen")
        };

        // Utility functions
        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function calculateXpToNextLevel() {
            return levelThresholds[gameState.player.level];
        }
        
        function calculateXpGain() {
            // Base XP between 30-50
            let baseXp = getRandomInt(30, 50);
            
            // Bonus from job skills (each skill adds 2% bonus)
            let skillBonus = 1 + (
                (gameState.player.jobStats.manualLabor + 
                gameState.player.jobStats.intelligence + 
                gameState.player.jobStats.timeManagement + 
                gameState.player.jobStats.organization) * 0.02
            );
            
            // Happiness bonus (scales from 50% to 150% based on happiness
